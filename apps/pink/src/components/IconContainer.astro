---
const { component } = Astro.props;
---

<ul
  class="grid-box u-margin-block-start-24"
  style="--grid-gap:1rem; --grid-item-size:8rem; --grid-item-size-small-screens:6rem;"
>
  {
    component?.map((icon: any) => {
      const splitName = icon.default.split("/");
      const name = splitName[splitName.length - 1].split(".")[0];
      return (
        <li class={`grid-box-item u-cursor-pointer icons ${name}s`}>
          <div class="card u-flex u-flex-vertical u-cross-center u-width-full-line">
            <img src={icon.default} alt={name} />
          </div>
          <div class="u-flex u-main-center u-width-full-line u-margin-block-start-4">
            <code>icon-{name}</code>
          </div>
        </li>
      );
    })
  }
</ul>

<script>
  const icons = document.querySelectorAll(".icons");
  icons.forEach((icon) => {
    icon?.addEventListener("click", () => {
      const iconsName = icon.classList.item(3)?.slice(0, -1); // the extra word 's' on the class name is to avoid the styling conflict
      navigator.clipboard.writeText(`icon-${iconsName}`);
      alert(`icon-${iconsName} copied`);
    });
  });
</script>
