@use '../abstract' as *;

.button {
    $button-size: pxToRem(48);
    --p-button-size: var(--button-size, #{$button-size});
    --p-text-color: var(--color-neutral-0);
    --p-button-color: var(--color-primary-110);
    --p-border-color: var(--color-primary-120);

    $font-size: pxToRem(16);
    --p-font-size: #{$font-size};

    @include trim();
    display:flex; align-items:center; width:fit-content; height:var(--p-button-size);
    padding:0 pxToRem(24); cursor:pointer; font-size:var(--p-font-size); font-weight:600;
    color:hsl(var(--p-text-color)); background-color:hsl(var(--p-button-color));
    border:solid pxToRem(1) hsl(var(--p-border-color)); border-radius:var(--border-radius-xsmall);

    [class*="icon"]:not(:only-child) {
        &:first-child { margin-inline-end:pxToRem(8); }
        &:last-child { margin-inline-start:pxToRem(8); }
    }

    &.is-small {
        $button-size: pxToRem(40);
        --p-button-size: #{$button-size};

        $font-size: pxToRem(14);
        --p-font-size: #{$font-size}
    }
    &.is-big {
        $button-size: pxToRem(56);
        --p-button-size: #{$button-size};
    }
    /* default - PRIMARY */
    &:is(:hover) {
        &:where(:not(#{$disabled})) {
            --p-button-color: var(--color-primary-100);
        }
    }
    &:is(:focus) {
        &:where(:not(#{$disabled})) {
            --p-button-color: var(--color-primary-110);
            --p-border-color: var(--color-primary-110);
        }
    }
    &:is(:active) {
        &:where(:not(#{$disabled})) {
            --p-button-color: var(--color-primary-120);
            --p-border-color: var(--color-primary-120);
        }
    }
    &.is-only-icon { aspect-ratio:1 / 1; padding:0; justify-content:center; align-items:center; border-radius:var(--border-radius-circular); }
    &:where(#{$disabled}) {
        --p-button-color: var(--color-neutral-10);
        --p-border-color: var(--color-neutral-10);
        --p-text-color: var(--color-neutral-50);
        cursor: unset;
        /* opacity:0.3; filter:grayscale(1); - old styles */
    }
    /** DARK MODE **/
    :root .theme-dark & {
        --p-button-color: var(--color-primary-120);
        --p-border-color: var(--color-primary-110);

        &:is(:hover) {
            &:where(:not(#{$disabled})) {
                --p-button-color: var(--color-primary-110);
                --p-border-color: var(--color-primary-100);
            }
        }
        &:is(:focus) {
            &:where(:not(#{$disabled})) {
                --p-border-color: var(--color-primary-120);
            }
        }
        &:is(:active) {
            &:where(:not(#{$disabled})) {
                --p-border-color: var(--color-primary-50);
            }
        }
        &:where(#{$disabled}) {
            --p-button-color: var(--color-neutral-150);
            --p-border-color: var(--color-neutral-150);
            --p-text-color: var(--color-neutral-100);
            cursor:unset;
            /* opacity:0.3; filter:grayscale(1); - old styles */
        }
    }
    /** end main button */

    &.is-secondary {
        --p-button-color: var(--transparent);
        --p-border-color: var(--color-neutral-10);
        --p-text-color: var(--color-neutral-150);
        &:is(:hover) {
            &:where(:not(#{$disabled})) {
                --p-button-color: var(--color-neutral-5);
            }
        }
        &:is(:focus) {
            &:where(:not(#{$disabled})) {
                --p-border-color: var(--transparent);
            }
        }
        &:is(:active) {
            &:where(:not(#{$disabled})) {
                --p-button-color: var(--color-neutral-10);
                --p-border-color: var(--color-neutral-10);
                --p-text-color: var(--color-neutral-190)
            }
        }
        &:where(#{$disabled}) {
            --p-border-color: var(--color-neutral-10);
            --p-text-color: var(--color-neutral-50);
        }
        /** DARK MODE **/
        :root .theme-dark & {
            --p-button-color: var(--transparent);
            --p-border-color: var(--color-neutral-150);
            --p-text-color: var(--color-neutral-0);
            &:is(:hover) {
                &:where(:not(#{$disabled})) {
                    --p-border-color: var(--color-neutral-120);

                }
            }
            &:is(:focus) {
                &:where(:not(#{$disabled})) {
                    --p-border-color: var(--transparent);
                }
            }
            &:is(:active) {
                &:where(:not(#{$disabled})) {
                    --p-border-color: var(--color-neutral-100);
                }
            }
            &:where(#{$disabled}) {
                --p-border-color: var(--color-neutral-150);
                --p-text-color: var(--color-neutral-100);
            }
        }
    }

    &.is-tertiary {
        --p-button-color: var(--color-neutral-150);
        --p-border-color: var(--color-neutral-10);
        --p-text-color: var(--color-neutral-0);
        &:is(:hover) {
            &:where(:not(#{$disabled})) {
                --p-button-color: var(--color-neutral-120);
            }
        }
        &:is(:focus) {
            &:where(:not(#{$disabled})) {
                --p-button-color: var(--color-neutral-150);
                --p-border-color: var(--color-neutral-150);
            }
        }
        &:is(:active) {
            &:where(:not(#{$disabled})) {
                --p-button-color: var(--color-neutral-170);
                --p-border-color: var(--color-neutral-170);
            }
        }
        &:where(#{$disabled}) {
            --p-button-color: var(--color-neutral-150);
            --p-border-color: var(--color-neutral-150);
            --p-text-color: var(--color-neutral-100);
        }
        /** DARK MODE **/
        :root .theme-dark & {
            --p-button-color: var(--color-neutral-30);
            --p-border-color: var(--color-neutral-150);
            --p-text-color: var(--color-neutral-150);
            &:is(:hover) {
                &:where(:not(#{$disabled})) {
                    --p-button-color: var(--color-neutral-50);
                    --p-text-color: var(--color-neutral-190);
                }
            }
            &:is(:focus) {
                &:where(:not(#{$disabled})) {
                    --p-button-color: var(--color-neutral-30);
                    --p-border-color: var(--color-neutral-30);
                    --p-text-color: var(--color-neutral-150);
                }
            }
            &:is(:active) {
                &:where(:not(#{$disabled})) {
                    --p-button-color: var(--color-neutral-120);
                    --p-border-color: var(--color-neutral-120);
                    --p-text-color: var(--color-neutral-0);
                }
            }
            &:where(#{$disabled}) {
                --p-button-color: var(--color-neutral-30);
                --p-border-color: var(--color-neutral-30);
                --p-text-color: var(--color-neutral-100);
            }
        }
    }

    &.is-text {
        --p-button-color: var(--transparent);
        --p-border-color: var(--transparent);
        --p-text-color: var(--color-neutral-150);
        &:is(:hover) {
            &:where(:not(#{$disabled})) {
                --p-text-color: var(--color-neutral-100);
            }
        }
        &:is(:focus) {
            &:where(:not(#{$disabled})) {

            }
        }
        &:is(:active) {
            &:where(:not(#{$disabled})) {
                --p-text-color: var(--color-neutral-190);
            }
        }
        &:where(#{$disabled}) {
            --p-text-color: var(--color-neutral-50);
        }
        /** DARK MODE **/
        :root .theme-dark & {
            --p-button-color: var(--transparent);
            --p-border-color: var(--transparent);
            --p-text-color: var(--color-neutral-0);
            &:is(:hover) {
                &:where(:not(#{$disabled})) {
                    --p-text-color: var(--color-neutral-30);
                }
            }
            &:is(:focus) {
                &:where(:not(#{$disabled})) {
                    --p-text-color: var(--color-neutral-0);
                }
            }
            &:is(:active) {
                &:where(:not(#{$disabled})) {

                }
            }
            &:where(#{$disabled}) {
                --p-text-color: var(--color-neutral-100);
            }
        }
    }

    &.is-danger {
        --p-button-color: var(--color-danger-120);
        --p-border-color: var(--color-danger-120);
    }
    /* dark theme */
    :root .theme-dark &{
        &.is-danger {
            --p-text-color:var(--color-generic-0);
            --p-button-color: var(--color-danger-120);
            --p-border-color: var(--color-danger-120);
        }
    }
}