@use "../abstract" as *;
.grid-with-side {
  position: relative;
  :where(.alert)        { grid-area:alert;  }
  :where(.main-header)  { grid-area:header; }
  :where(.main-side)    { grid-area:side;   }
  :where(.main-content) { grid-area:main;   }
  :where(.main-footer)  { grid-area:footer; }

  @media #{$break1}, #{$break2} {
    .main-side { display:none; }

    &:where(.is-open) {
      .main-side { display:block; position:static; }
      .main-content, .main-footer { display:none; }
    }
  }
  @media #{$break3open} {
    display: grid;
    grid-template-columns: minmax(pxToRem(200), auto) 1fr;
    grid-template-rows: auto auto 1fr;
    grid-template-areas:  "alert alert"
                          "header header"
                          "side   main"
                          "side   footer";

    block-size:100vh; min-block-size:unset; /* fixed layout size */

    &.is-empty-side {
      grid-template-areas:  "header header"
                            "main    main"
                            "footer  footer";
      .main-content > * { padding-inline-start:pxToRem(200); }
    }
    .main-content { overflow:auto; }
    .main-side { /* block-size:calc(100vh - var(--main-header-height));*/ }
  }
}

.main-content { position:relative; /* z-index:1; */ } /* remove z-index, mage nug in modals */
.main-header  { position:sticky; z-index:5; inset-block-start:0; }
.main-side    { position:sticky; z-index:5; inset-block-start:var(--main-header-height); max-block-size:100vh;}
